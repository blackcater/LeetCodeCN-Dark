// Copyright (c) 2020 blackcater
// [Software Name] is licensed under Mulan PSL v2.
// You can use this software according to the terms and conditions of the Mulan PSL v2.
// You may obtain a copy of Mulan PSL v2 at:
//             http://license.coscl.org.cn/MulanPSL2
// THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
// See the Mulan PSL v2 for more details.

@-moz-document url-prefix("https://leetcode-cn.com/contest/") {
  @import "less/common";

  #base_content {
    background: @background-color !important;

    // 头部广告
    .contest-cards-base {
      .contest-card {
        filter: brightness(0.8);
      }
    }

    // 全球排名
    .ranking-card-base {
      .ranking-card-title {
        color: @title-color !important;
      }

      // 前三
      .top-3-base {
        a.winner {
          box-shadow: @card-shadow;

          .name-tag .content {
            color: @gold-color !important;
            background: @card-background-color !important;
            box-shadow: @card-shadow;
          }
        }
      }

      // 其他
      .ranking-list-base {
        color: @text-color !important;
        background: @card-background-color !important;
        box-shadow: @card-shadow;

        .ranking-list-item {
          &:hover {
            background: @grey4-color !important;
          }

          .avatar {
            filter: brightness(0.8);
          }

          .name-info {
            .name {
              color: @title-color !important;
            }

            .info {
              color: @text-color !important;
            }
          }
        }
      }
    }

    // 往届竞赛
    .contest-list-base {
      background: @card-background-color !important;
      box-shadow: @card-shadow !important;

      .heading {
        background: @grey2-color !important;

        .title {
          color: @title-color !important;
        }

        .info {
          color: @text-color !important;
        }

        .random {
          border: none !important;
          background: @card-background-color !important;
          box-shadow: @card-shadow;

          &:hover {
            background: linear-gradient(#c169c0, #ba40b8) !important;
          }
        }
      }

      table.contest-table {
        thead {
          tr {
            th {
              color: @title-color !important;
              background: @grey2-color !important;
            }
          }
        }

        tbody {
          tr {
            td.contest-title {
              .title {
                color: @title-color !important;
              }

              .date {
                color: @text-secondary-color !important;
              }
            }

            td.contest-duration {
              color: @text-secondary-color !important;

              button {
                filter: brightness(0.8);
              }
            }
          }
        }

        tbody.reactable-pagination {
          .pagination-buttons {
            a {
              color: @text-color !important;
              border: 1px solid @border-color !important;
              background: @background-color !important;

              &.reactable-current-page {
                color: @grey0-color !important;
                border: 1px solid @primary-color !important;
                background: @primary-color !important;

                &:hover {
                  border: 1px solid @primary4-color !important;
                  background: @primary4-color !important;
                }
              }
            }
          }
        }
      }
    }
  }

  // 详情页
  #base_content .contest-detail-base {
    .page-heading .title {
      .contest-name {
        color: @title-color !important;
      }

      .contest-time {
        color: @title-color !important;
      }
    }

    .callout.callout-info a {
      color: @blue-color !important;
    }

    .container.contest-information {
      img {
        filter: brightness(0.8);
      }
    }

    .panel.ranking-list {
      color: @text-color !important;
      background: @background-color !important;
      border-color: @card-background-color !important;
      box-shadow: @card-shadow !important;

      .panel-heading {
        color: @title-color !important;
        border: none !important;
        background: @card-background-color !important;
      }

      .panel-body {
        table {
          thead {
            tr:hover {
              background: @background-color !important;
            }

            th {
              color: @title-color !important;
              border-bottom: 2px solid @table-border-color !important;
            }
          }

          tbody {
            tr {
              &:hover {
                background: @table-hover-color !important;
              }

              &:nth-child(2n + 1) {
                &:hover {
                  background: @table-hover-color !important;
                }

                background: @table-odd-color !important;
              }

              td {
                border-top: 2px solid @table-border-color !important;
              }
            }
          }
        }

        a.ranking-more-btn {
          &:hover {
            background: @background-color !important;
          }

          border-top: 1px solid @border-color !important;
        }
      }
    }

    h3,
    h4 {
      color: @title-color !important;
    }

    ul.list-group {
      box-shadow: @card-shadow !important;

      li.list-group-item {
        color: @text-light-color !important;
        border: 1px solid @card-background-color !important;
        background: @background-color !important;

        &:hover {
          background: @card-background-color !important;
        }

        a {
          color: @text-color !important;
        }
      }
    }

    hr {
      border-top: 1px solid @border-color !important;
    }

    a.btn.btn-default,
    button.btn.btn-default {
      .btn-default();
    }

    a.btn.btn-success,
    button.btn.btn-success {
      .btn-primary();
    }

    a.btn.btn-primary,
    button.btn.btn-primary {
      .btn-blue();
    }
  }

  // 分页器
  .pagination-base__aILV {
    ul.pagination {
      li.prev-btn,
      li.next-btn {
        span {
          border: 1px solid @border-color !important;
          background: @card-background-color !important;

          &::after {
            color: @text-color !important;
          }
        }
      }

      li.page-btn {
        &:hover > a {
          border: 1px solid @primary4-color !important;
          background: @primary4-color !important;
        }

        &.active > a {
          color: @grey0-color !important;
          border: 1px solid @primary-color !important;
          background: @primary-color !important;

          &:hover {
            background: @primary4-color !important;
          }
        }

        & > a {
          color: @text-color !important;
          border: 1px solid @border-color !important;
          background: @background-color !important;
        }
      }
    }
  }

  // 问题详情页
  .question-title {
    h3 {
      color: @title-color !important;
    }

    .lang-switcher {
      color: @text-color !important;
    }

    .btn-group {
      .btn.btn-default {
        .btn-default();
      }

      .btn.btn-success {
        .btn-primary();
      }
    }
  }

  .contest-question-info {
    ul.list-group {
      box-shadow: @card-shadow !important;

      li.list-group-item {
        color: @text-light-color !important;
        border: 1px solid @card-background-color !important;
        background: @background-color !important;

        &:hover {
          background: @card-background-color !important;
        }

        a {
          color: @text-color !important;
        }

        strong {
          color: @text-color !important;
        }
      }
    }
  }

  .question-content {
    code {
      background-color: @grey3-color !important;
    }

    pre {
      strong {
        color: @title-color !important;
      }

      color: @text-color !important;
      border: 1px solid @border-color !important;
      background-color: @card-background-color !important;
    }

    img {
      background-color: @grey5-color !important;
    }
  }

  .editor-base {
    .line {
      border-top: 1px solid @border-color !important;
    }

    .control-btn-bar {
      .language-select-wrapper {
      }

      .editor-toolbar {
        button {
          .btn-default();
        }

        .popover {
          color: @text-color !important;
          background: @dropdown-background-color !important;

          .arrow::after {
            border-top-color: @dropdown-background-color !important;
          }
        }
      }
    }

    .ReactCodeMirror {
      .CodeMirror {
        filter: invert(0.88) hue-rotate(180deg);
      }
    }

    .action {
      button.btn-default {
        .btn-default();
      }

      button.btn-primary {
        .btn-blue();
      }

      textarea {
        color: @text-color !important;
        border: 1px solid @border-color !important;
        background-color: @card-background-color !important;
      }

      .popover {
        color: @text-color !important;
        background: @dropdown-background-color !important;

        .arrow::after {
          border-top-color: @dropdown-background-color !important;
        }
      }
    }
  }

  .rc-dialog-partial();

  .Select-control {
    .ipt-gold();

    .Select-value {
      background: @background-color !important;

      .Select-value-label {
        color: @text-color !important;
      }

      & + div {
        background: transparent !important;
      }
    }

    .Select-arrow-zone {
      background: transparent !important;
    }

    & + .Select-menu-outer {
      border: none !important;
      filter: invert(0.88) hue-rotate(180deg);
    }
  }

  // 比赛结果
  .table-striped {
    thead {
      color: @text-light-color !important;
    }

    tbody tr {
      &.success {
        background: @green-color !important;
      }

      &:hover {
        background: @table-hover-color !important;
      }

      &:nth-child(2n + 1) {
        &:hover {
          background: @table-hover-color !important;
        }

        background: @table-odd-color !important;
      }

      td {
        border-top: 1px solid @table-border-color !important;
      }
    }
  }

  .popover {
    color: @text-color !important;
    background: @dropdown-background-color !important;

    .arrow::after {
      border-top-color: @dropdown-background-color !important;
    }
  }
}
