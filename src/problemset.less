// Copyright (c) 2020 blackcater
// [Software Name] is licensed under Mulan PSL v2.
// You can use this software according to the terms and conditions of the Mulan PSL v2.
// You may obtain a copy of Mulan PSL v2 at:
//             http://license.coscl.org.cn/MulanPSL2
// THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
// See the Mulan PSL v2 for more details.

@-moz-document url-prefix("https://leetcode-cn.com/problemset/") {
  @import "less/common";

  // 问题区
  #question-app {
    // 顶部分类
    .category-group-base {
      & > span:first-child {
        color: @title-color !important;
      }

      .category-card-base {
        filter: brightness(0.8);

        .caret-base .simple-caret {
          &::before {
            border-bottom: 10px solid @grey7-color !important;
            border-right: 10px solid transparent !important;
            border-left: 10px solid transparent !important;
          }

          &::after {
            border-bottom: 9px solid @background-color !important;
            border-right: 9px solid transparent !important;
            border-left: 9px solid transparent !important;
          }
        }

        .close-btn {
          color: @white-color !important;
        }
      }

      hr.line {
        border-color: @grey7-color !important;
      }
    }

    .assess-bar {
      // 难度标签
      .label {
        &.label-primary {
          background: @blue-color !important;
        }

        &.label-success {
          background: @green-color !important;
        }

        &.label-warning {
          background: @yellow-color !important;
        }

        &.label-danger {
          background: @red-color !important;
        }
      }

      // 右侧按钮
      .pull-right a.btn {
        .btn-default();
      }
    }

    // 问题列表
    .question-list-base {
      // 分割线
      .separator-line {
        .separator-op {
          border-bottom: 1px solid @border-color !important;
          background: none !important;
        }

        .separator_left_mask {
          background: linear-gradient(
            to right,
            @background-color,
            rgba(255, 255, 255, 0)
          ) !important;
        }

        .separator_right_mask {
          background: linear-gradient(
            to right,
            rgba(255, 255, 255, 0),
            @background-color
          ) !important;
        }
      }

      // 顶部搜索
      .search-bar-control {
        .list-search-bar {
          .ipt-default();
        }
      }

      // 筛选过滤器
      .pull-right {
        .filter-dropdown-button {
          .filter-title {
            color: @text-color !important;

            &:hover {
              color: @text-light-color !important;
            }
          }
        }

        .dropdown-menu {
          box-shadow: @dropdown-shadow !important;
          border: @dropdown-border !important;
          background: @dropdown-background-color !important;

          .filter-list {
            background: @dropdown-background-color !important;

            input.filterSearch {
              .ipt-default();
            }

            .filter-dropdown-menu-tabs {
              .filter-switch-tab {
                border-bottom: 1px solid @border-color !important;

                button {
                  color: @text-light-color !important;
                  border: 1px solid @border-color !important;
                  background: @border-color !important;

                  &.active {
                    color: @text-color !important;
                    border: 1px solid @border-color !important;
                    border-bottom-color: @dropdown-background-color !important;
                    background: @dropdown-background-color !important;
                  }
                }
              }
            }
          }

          .filter-dropdown-menu-items {
            background: @dropdown-background-color !important;

            .filter-dropdown-menu-item {
              border-color: @border-color !important;

              &:hover {
                background: @grey4-color !important;
              }
            }
          }
        }
      }

      // 问题列表
      .question-list-table {
        thead {
          color: @text-light-color !important;
        }

        tbody.reactable-data tr {
          &:hover {
            background: @table-hover-color !important;
          }

          &:nth-child(2n + 1) {
            &:hover {
              background: @table-hover-color !important;
            }

            background: @table-odd-color !important;
          }

          td {
            .level-easy {
              color: @green-color !important;
            }

            .level-medium {
              color: @yellow-color !important;
            }

            .level-hard {
              color: @red-color !important;
            }

            .progress {
              background: @text-secondary-color !important;

              .progress-bar-success {
                background: @green-color !important;
              }

              .progress-bar-warning {
                background: @yellow-color !important;
              }
            }
          }
        }

        tbody.reactable-pagination {
          tr {
            background: @table-odd-color !important;
          }

          .row-selector select {
            color: @text-color !important;
            border: 1px solid @border-color !important;
            background: transparent !important;
          }

          .pagination-buttons {
            a {
              color: @text-color !important;
              border: 1px solid @border-color !important;
              background: @background-color !important;

              &.reactable-current-page {
                color: @grey0-color !important;
                border: 1px solid @primary-color !important;
                background: @primary-color !important;

                &:hover {
                  border: 1px solid @primary4-color !important;
                  background: @primary4-color !important;
                }
              }
            }
          }
        }
      }
    }
  }

  // 用户进度
  #user-progress-app {
    // 广告
    .css-z26dkq-Container img {
      filter: brightness(0.8);
    }

    // 打卡日历
    .css-1rc2chb-CalendarWrapper {
      background: @card-background-color !important;

      .css-4hxiu2-MedalContainer {
        background: none;

        img {
          opacity: 0.5;

          &:hover {
            opacity: 1;
          }
        }
      }

      .css-yk1l9u-CalendarTitle {
        color: @title-color !important;

        .css-1a4qo09-Month {
          color: @text-color !important;
          background: @grey4-color !important;
        }

        svg {
          fill: @title-color !important;
        }
      }

      .css-ctx0ft-CalendarWeek {
        .css-11lyyu4-CalendarHeader {
          color: @title-color !important;
        }

        .css-400zsq-CalendarDay {
          color: @text-color !important;
        }

        .css-tgugze-CalendarDay-MissedCalendarDay {
          color: @text-color !important;
        }
      }

      .css-1m3pkg1-CardWrapper {
        .css-192hyp1-CardContainer {
          span {
            color: @text-color !important;
          }

          span.css-uyw64a-RedeemButton {
            color: @primary-color !important;
          }
        }

        .css-1cmjfmm-RuleText {
          color: @text-color !important;
        }
      }
    }

    // 进度展示
    .css-obaajf-Container {
      background: @card-background-color !important;

      .css-jg8d0x-TitleContainer {
        .css-17nb129-Title {
          color: @title-color !important;
        }

        .css-134uju6-ButtonContainer {
          .css-1b0qeup-SessionButton {
            background-color: @grey4-color !important;

            .css-5lrm4v-SessionName {
              color: @text-color !important;
            }

            svg {
              fill: @text-color !important;
            }
          }

          .css-zndv66-ConfigButton {
            background: @grey4-color !important;

            svg {
              fill: @text-color !important;
            }
          }
        }

        .css-2x1u4a-DropdownContainer {
          border: @dropdown-border;
          box-shadow: @dropdown-shadow;
          background: @dropdown-background-color;

          .css-latz5u-SessionOption {
            div {
              color: @text-color !important;
            }

            svg {
              fill: @primary-color !important;
            }
          }
        }
      }

      .css-eysaw4-Container {
        .css-1yahjo4-SubmitPercentage,
        .css-1cwh3x2-SubmitText {
          color: @text-color !important;
        }
      }

      .css-uxkw03-Container {
        .css-8mbaxz-AcceptedNum {
          color: @text-color !important;
        }

        .css-1g4kd3y-TotalNum {
          color: @text-secondary-color !important;
        }
      }
    }
  }

  //#user-progress-app {
  //  // 广告
  //  .wrapper__2b4L img {
  //    filter: brightness(0.8);
  //  }
  //
  //  // 日历
  //  .css-96hr2l-CalendarWrapper {
  //    & > div:first-child {
  //      color: @title-color !important;
  //    }
  //
  //    & > div:nth-child(2) > div > div:hover {
  //      background: @card-background-color !important;
  //    }
  //
  //    & > div:last-child {
  //      color: @text-color !important;
  //      background: @card-background-color !important;
  //
  //      span:nth-child(2) {
  //        color: @green-color !important;
  //      }
  //
  //      span:last-child {
  //        color: @text-color !important;
  //      }
  //    }
  //  }
  //
  //  // 进度
  //  .progress-module {
  //    .progress-module-partial();
  //  }
  //}

  // 热门推荐
  #list-card-app {
    .sidebar-title {
      color: @title-color !important;
    }

    .list-group-item {
      background: @background-color !important;

      &:hover {
        background: @card-background-color !important;
        box-shadow: @card-shadow !important;
      }

      a {
        color: @text-color !important;

        i.fa {
          filter: brightness(0.8);
        }
      }
    }

    hr.line {
      border-color: @grey7-color !important;
    }
  }

  // 热门推荐（小屏幕）
  #list-card-mod {
    .list-group-item {
      border: 1px solid @border-color !important;
      background: @card-background-color !important;

      &.active {
        background: @blue-color !important;

        a {
          color: @title-color !important;
        }
      }

      a {
        color: @text-color !important;
      }
    }
  }

  // 标签模块
  #topic-module {
    .tags-title {
      color: @title-color !important;
    }

    #current-topic-tags,
    #all-topic-tags {
      a {
        .btn-default();

        &:hover {
          span.text-gray {
            color: @primary6-color !important;
          }
        }

        span.text-gray {
          color: @text-color !important;
        }

        span.badge {
          color: @text-light-color !important;
          background: @blue-color !important;
        }
      }
    }

    #expand-topic {
      hr.line {
        border-color: @grey7-color !important;
      }

      div.btn {
        .btn-default(@background-color);
      }
    }
  }

  // 企业题库
  #enterprise-tags {
    .css-msommy-Header {
      color: @title-color !important;
    }

    a {
      color: @text-color !important;
    }

    a[href="/interview/"] {
      color: @text-color !important;
      background: linear-gradient(
        rgba(0, 0, 0, 0),
        10%,
        @background-color
      ) !important;
    }
  }

  // 每日一题
  .css-15n5f1h-TodoTooltipWrapper {
    span {
      color: @text-color !important;
    }

    a:hover {
      color: @primary6-color !important;
    }
  }
}
